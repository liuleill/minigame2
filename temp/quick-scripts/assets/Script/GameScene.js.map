{"version":3,"sources":["GameScene.js"],"names":["card_node","require","CardsResultType","MYHandCardsValue","MYHandCardsType","BANKERHandCardsValue","BANKERHandCardsType","IsBOOl","cc","Class","extends","Component","properties","JokersSprites","default","type","Sprite","CardsSpritesList","SpriteFrame","SeeCardsBtn","Button","PackBtn","SideShowBtn","NextRoundBtn","StartBtn","TimeCounts","Label","NodeList","Node","JokerMaskList","MyCardsMaskList","BankerCardsMaskList","MyCardsNodesList","BankerCardsNodesList","cardBlock","WinnerAnimation","Animation","WinnerAnimationText","MyWinnerTip","BankerWinnerTip","DefaultJokerSprite","defaultSprite","start","onload","node","active","i","debug","setDisplayStats","BtnClickEvents","event","cusutomData","onPackBtn","onsideShowfunc","onseeCardsfunc","onnextRound","onstartGame","showJokerCards","showHandCards","showJokerCardsAction","scheduleOnce","showResultfunc","tempResultType","result1","result","index","string","play","showMyHandCards","dropCards","scaleTo","moveTo","v2","scaleTo1","moveTo1","spriteFrame","runAction","sequence","resetTablefunc","countTimes","unscheduleAllCallbacks","BothHandCardsValueGive","giveCardAction","showDefault","scale","position","tempInt","schedule","temp","temp1","Math","ceil","random","push","checkHandCard","log","j","local","angle","rotateTo1","rotateTo","spawn","isShowBothHandCards","sortCardANDTypeNoJoker","checkbaozi","checktonghuashun","checktonghua","checkshunzi","checkdanzhang","sortCardANDType","CardHandValue","CardHandType","tempvalue","tempvalue1","temptype","temptype1","checkIsExsitType","value","CountsRepeat","noexist","count","length","find","arr","num","checkTypeIsExsit","isexistmycardscount","isexistbankercardscount"],"mappings":"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","file":"GameScene.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nconst card_node = require(\"./card_node\");\nvar CardsResultType =[];\nvar MYHandCardsValue = [];\nvar MYHandCardsType = [];\nvar BANKERHandCardsValue = [];\nvar BANKERHandCardsType = [];\nvar IsBOOl= false;\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        JokersSprites:{\n            default : [],\n            type : cc.Sprite\n        },\n        CardsSpritesList:{\n            default : [],\n            type : cc.SpriteFrame\n        },\n        SeeCardsBtn:{\n            default : null,\n            type : cc.Button\n        },\n        PackBtn:{\n            default : null,\n            type : cc.Button\n        },\n        SideShowBtn:{\n            default : null,\n            type : cc.Button\n        },\n        NextRoundBtn:{\n            default : null,\n            type : cc.Button\n        },\n        StartBtn:{\n            default : null,\n            type : cc.Button\n        },\n        TimeCounts:{\n            default : null,\n            type : cc.Label\n        },\n        NodeList:{\n            default : [],\n            type : cc.Node\n        },\n        JokerMaskList:{\n            default : [],\n            type : cc.Sprite\n        },\n        MyCardsMaskList:{\n            default : [],\n            type : cc.Sprite\n        },\n        BankerCardsMaskList:{\n            default : [],\n            type : cc.Sprite\n        },\n        MyCardsNodesList:{\n            default : [],\n            type : cc.Sprite\n        },\n\n        BankerCardsNodesList:{\n            default : [],\n            type : cc.Sprite\n        },\n        cardBlock :{\n            default : null,\n            type : cc.SpriteFrame\n        },\n        WinnerAnimation:{\n            default : null,\n            type : cc.Animation\n        }, \n        WinnerAnimationText:{\n            default: null,\n            type :cc.Label\n        },\n        MyWinnerTip:{\n            default: null,\n            type:cc.Sprite\n        },\n        BankerWinnerTip:{\n            default: null,\n            type:cc.Sprite\n        },\n        DefaultJokerSprite:{\n            default:[],\n            type:cc.SpriteFrame\n        },\n        defaultSprite:{\n            default :null,\n            type:cc.SpriteFrame\n        }\n    },\n\n    \n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n        this.onload();\n    },\n    onload: function(){\n        this.StartBtn.node.active = true;\n        this.SeeCardsBtn.node.active = false;\n        this.PackBtn.node.active = false;\n        this.SideShowBtn.node.active = false;\n        this.TimeCounts.node.active = false;\n        this.NextRoundBtn.node.active = false;\n        this.WinnerAnimation.node.active = false;\n        this.BankerWinnerTip.node.active = false;\n        this.MyWinnerTip.node.active = false;\n        for (var i = 0; i < 2; i++) {\n            this.NodeList[i].active = false;\n            this.JokerMaskList[i].node.active = false;\n        }\n        \n        cc.debug.setDisplayStats(false);\n        \n    },\n    BtnClickEvents:function(event,cusutomData){\n        \n        switch (cusutomData) {\n            case \"PackBtn\":\n                this.onPackBtn();\n                break;\n            case \"SideShowBtn\":\n                this.onsideShowfunc();\n                break;\n            case \"SeeCardsBtn\":\n                this.onseeCardsfunc();\n                break;\n            case \"NextRoundBtn\":\n                this.onnextRound();\n                break;\n            case \"StartBtn\":\n                this.onstartGame();\n                break;\n            default:\n                break;\n        }\n    },\n    onsideShowfunc: function () {\n        \n        if(!IsBOOl){\n            this.showJokerCards();\n        }\n        \n        this.showHandCards();\n        this.showJokerCardsAction(true);\n\n        this.scheduleOnce(this.showResultfunc,2);\n        this.scheduleOnce(function(){this.NextRoundBtn.node.active = true;},3);\n    },\n    showResultfunc:function(){\n        var tempResultType = 0;\n        if(CardsResultType[0]>CardsResultType[1]){\n            tempResultType = CardsResultType[0];\n            this.MyWinnerTip.node.active = true;\n            this.BankerWinnerTip.node.active = false;\n        }else if(CardsResultType[0]<CardsResultType[1]){\n            tempResultType = CardsResultType[1];\n            this.MyWinnerTip.node.active = false;\n            this.BankerWinnerTip.node.active = true;\n        }else{\n            var result1 = 0;\n            var result = 0;\n            for(var index= 0 ;index<3;index++){\n                result += MYHandCardsValue[index];\n                result1 += BANKERHandCardsValue[index];\n            }\n\n            if(result >result1){\n                tempResultType = CardsResultType[0];\n                this.MyWinnerTip.node.active = true;\n                this.BankerWinnerTip.node.active = false;\n            }\n            else{\n                tempResultType = CardsResultType[1];\n                this.MyWinnerTip.node.active = false;\n                this.BankerWinnerTip.node.active = true;\n            }\n        }\n\n        switch(tempResultType){\n            case 60:\n                this.WinnerAnimationText.string =\"TRAIL\";\n                break;\n            case 50:\n                this.WinnerAnimationText.string =\"PURE SEQUENCE\";\n                break;\n            case 40:\n                this.WinnerAnimationText.string =\"SEQUENCE\";\n                break;\n            case 30:\n                this.WinnerAnimationText.string =\"COLOR\";\n                break;\n            case 20:\n                this.WinnerAnimationText.string =\"PAIR\";\n                break;\n            case 10:\n                this.WinnerAnimationText.string =\"HIGH CARD\";\n                break;\n            default:\n                break;\n        }\n\n        this.WinnerAnimation.node.active = true;\n        this.WinnerAnimation.play();\n        \n    },\n    onseeCardsfunc: function(){\n        \n        if(!IsBOOl){\n            this.showJokerCards();\n            IsBOOl = true;\n        }\n        \n        this.showMyHandCards();\n        this.showJokerCardsAction(false);\n    },\n    dropCards: function () {\n        if(!IsBOOl){\n            this.showJokerCards();\n        }\n\n        this.SideShowBtn.node.active = false;\n        this.PackBtn.node.active = false;\n        this.SeeCardsBtn.node.active = false;\n\n\n        this.showHandCards(true);\n\n        for (var i = 0; i < 3; i++) {\n            var scaleTo = cc.scaleTo(0.3, 0);\n            var moveTo = cc.moveTo(0.3, cc.v2(0, 150));\n\n            var scaleTo1 = cc.scaleTo(0.3, 0);\n            var moveTo1 = cc.moveTo(0.3, cc.v2(0, -150));\n\n            this.MyCardsMaskList[i].node.active = true;\n            this.MyCardsMaskList[i].spriteFrame = this.cardBlock;\n            this.BankerCardsMaskList[i].node.active = true;\n            this.BankerCardsMaskList[i].node.active = true;\n        }\n\n        var scaleTo = cc.scaleTo(0.3, 0);\n        var moveTo = cc.moveTo(0.3, cc.v2(0, 150));\n        this.NodeList[0].runAction(cc.sequence(moveTo, scaleTo)); //逐步执行动画\n\n        var scaleTo1 = cc.scaleTo(0.3, 0);\n        var moveTo1 = cc.moveTo(0.3, cc.v2(0, -150));\n        this.NodeList[1].runAction(cc.sequence(moveTo1, scaleTo1)); //逐步执行动画\n\n        this.scheduleOnce(function () { this.NextRoundBtn.node.active = true; }, 1);\n    },\n   //重新洗牌并且发牌\n    onPackBtn: function () {\n        this.dropCards();    \n    },\n    \n    onnextRound:function(){\n        \n        this.resetTablefunc();\n        this.countTimes();\n    \n        this.scheduleOnce(function(){\n            \n            \n            this.unscheduleAllCallbacks();\n            this.BothHandCardsValueGive();\n            \n            this.NextRoundBtn.node.active = false;\n            this.SeeCardsBtn.node.active = true;\n            this.SideShowBtn.node.active = true;\n            this.PackBtn.node.active = true;\n            this.TimeCounts.node.active = false;\n            this.StartBtn.node.active = false;\n        \n            for (var i = 0; i < 2; i++) {\n                this.NodeList[i].active = true;\n                this.JokerMaskList[i].node.active = true;\n            }\n            this.giveCardAction();\n            this.showDefault();\n          \n        },4);\n\n    },\n    showDefault:function(){\n        this.MyCardsNodesList[0].node.active = true;\n        this.MyCardsMaskList[0].node.active = true;\n        this.MyCardsNodesList[0].spriteFrame = this.DefaultJokerSprite[0];\n        this.MyCardsMaskList[0].spriteFrame = this.cardBlock;\n\n        this.BankerCardsMaskList[0].node.active = true;\n        this.BankerCardsNodesList[0].node.active = true;\n        this.BankerCardsNodesList[0].spriteFrame = this.DefaultJokerSprite[0];\n        this.BankerCardsMaskList[0].spriteFrame = this.cardBlock;\n\n        for(var index = 0; index<3;index++){\n            if(index >0){\n                this.MyCardsMaskList[index].node.active = true;\n                this.MyCardsNodesList[index].node.active = true;\n                this.MyCardsNodesList[index].spriteFrame = this.DefaultJokerSprite[1];\n    \n                this.BankerCardsMaskList[index].node.active = true;\n                this.BankerCardsNodesList[index].node.active = true;\n                this.BankerCardsNodesList[index].spriteFrame = this.DefaultJokerSprite[1];\n            }\n        }\n    },\n    resetTablefunc:function(){\n        MYHandCardsType = [];\n        MYHandCardsValue =[];\n        BANKERHandCardsType = [];\n        BANKERHandCardsValue = [];\n        CardsResultType = [];\n        this.WinnerAnimation.node.active = false;\n        this.MyWinnerTip.node.active = false;\n        this.BankerWinnerTip.node.active = false;\n        this.NextRoundBtn.node.active = false;\n        \n\n        for (var i = 0; i < 2; i++) {\n            this.NodeList[i].active = true;\n            this.NodeList[i].scale= cc.v2(1,1);\n\n            this.JokerMaskList[i].node.active = true;\n        }\n        this.NodeList[0].position = cc.v2(0,0);\n        this.NodeList[1].position = cc.v2(0,0);\n\n        for(var index= 0;index<3;index++){\n            this.MyCardsMaskList[index].node.active = true;\n            this.MyCardsNodesList[index].node.active = false;\n            this.BankerCardsMaskList[index].node.active = true;\n            this.BankerCardsNodesList[index].node.active = false;\n        }\n\n        IsBOOl = false;\n    },\n    countTimes: function () {\n        var tempInt = 1; //3\n        \n        this.schedule(function(){\n            if (tempInt > 0) {\n                this.TimeCounts.node.active = true;\n                this.TimeCounts.string = \"The game starts counting down……\" + tempInt;\n            } else {\n                this.TimeCounts.node.active = false;\n            }\n            tempInt -= 1;\n        }, 1);\n    },\n    onstartGame:function(){\n\n        this.giveCardAction();\n        this.StartBtn.node.active = false;\n        this.SeeCardsBtn.node.active = true;\n        this.PackBtn.node.active = true;\n        this.SideShowBtn.node.active = true;\n        \n        for (var i = 0; i < 2; i++) {\n            this.NodeList[i].active = true;\n            this.JokerMaskList[i].node.active = true;\n        }\n        \n        this.BothHandCardsValueGive();\n    },\n    /*双方发牌 */\n    BothHandCardsValueGive:function(){\n    \n\n        for(var i = 0; i < 3 ; i++){\n            var temp = 100;             //黑白颜色的joker\n            var temp1 = 101;           //彩色的joker\n           if(i == 0){\n                 temp = Math.ceil((99 + (100 - 99 + 1 ) * Math.random()));\n                switch (temp) {\n                    case 100:\n                        temp1 = 101;\n                        break;\n                    case 101:\n                        temp1 = 100;\n                        break;\n                    default:\n                        break;\n                }\n\n                MYHandCardsValue.push(temp);\n                BANKERHandCardsValue.push(temp1);\n                temp = 0; //   Joker无类型\n                temp1 = 0; //   Joker无类型\n                MYHandCardsType.push(temp);\n                BANKERHandCardsType.push(temp1);\n\n            }else{\n               \n                temp = Math.ceil((1 + (3 - 1 + 1 ) * Math.random()));\n                temp1 = Math.ceil((1 + (3 - 1 + 1 ) * Math.random()));\n                MYHandCardsType.push(temp);\n                BANKERHandCardsType.push(temp1)\n                temp = Math.ceil((2 + (13 - 2 + 1 ) * Math.random()));\n                temp1 = Math.ceil((2 + (13 - 2 + 1 ) * Math.random()));\n                MYHandCardsValue.push(temp);\n                BANKERHandCardsValue.push(temp1);\n\n            }\n        }       \n       \n\n        this.checkHandCard();\n        cc.log(\"1value :\"+MYHandCardsValue+\"    1type:\"+MYHandCardsType);\n        cc.log(\"2value :\"+BANKERHandCardsValue+\"    2type:\"+BANKERHandCardsType);\n    },\n    /*检测双方手中有同样的牌  重复就重新发牌 非Joker*/\n    checkHandCard:function(){\n       \n        //检测双方自己手牌中有无重复牌 第二张牌开始比 \n        for(var i = 1; i<3;i++){\n            for (var j = 3-i; j >1; j--) {\n                var temp = 0;\n                var temp1 = 0;\n                // 自己\n                if (MYHandCardsType[i] == MYHandCardsType[j] && MYHandCardsValue[i] == MYHandCardsValue[j]) {\n                    temp = Math.ceil((1 + (3 - 1 + 1) * Math.random()));\n                    temp1 = Math.ceil((2 + (13 - 2 + 1) * Math.random())); \n                    if (temp != MYHandCardsType[i] && temp1 != MYHandCardsValue[i]) {\n                        MYHandCardsType[i] = temp;\n                        MYHandCardsValue[i] = temp1;\n                    } else {\n                        this.checkHandCard();\n                    }\n                }\n\n                //庄家\n                if (BANKERHandCardsType[i] == BANKERHandCardsType[j] && BANKERHandCardsValue[i] == BANKERHandCardsValue[j]) {\n                    temp = Math.ceil((1 + (3 - 1 + 1) * Math.random()));\n                    temp1 = Math.ceil((2 + (13 - 2 + 1) * Math.random())); \n                    if (temp != BANKERHandCardsType[i] && temp1 != BANKERHandCardsValue[i]) {\n                        \n                        BANKERHandCardsType[i] = temp;\n                        BANKERHandCardsValue[i] = temp1;\n                    } else {\n                        this.checkHandCard();\n                    }\n                }\n\n                if(MYHandCardsType[i] == BANKERHandCardsType[j] && MYHandCardsValue[i] == BANKERHandCardsValue[j])\n                {\n                    temp = Math.ceil((1 + (3 - 1 + 1) * Math.random()));\n                    temp1 = Math.ceil((2 + (13 - 2 + 1) * Math.random())); \n                    if (temp != MYHandCardsType[i] && temp1 != MYHandCardsValue[i]) {\n                       \n                        MYHandCardsType[i] = temp;\n                        MYHandCardsValue[i] = temp1;\n                    } else {\n                        this.checkHandCard();\n                    }\n                }\n\n            }\n\n            if(MYHandCardsType[1] == BANKERHandCardsType[1] && MYHandCardsValue[1] == BANKERHandCardsValue[1])\n            {\n                temp = Math.ceil((1 + (3 - 1 + 1) * Math.random()));\n                temp1 = Math.ceil((2 + (13 - 2 + 1) * Math.random())); \n                if (temp != MYHandCardsType[1] && temp1 != MYHandCardsValue[1]) {\n                   \n                    MYHandCardsType[1] = temp;\n                    MYHandCardsValue[1] = temp1;\n                } else {\n                    this.checkHandCard();\n                }\n            }\n        }\n        \n    },\n    /*SideShowBtn 按钮响应函数 */\n    showHandCards: function () {\n        for (var i = 0; i < 2; i++) {\n            this.NodeList[i].active = true;\n            this.JokerMaskList[i].node.active = false;\n        }\n        this.SideShowBtn.node.active = false;\n        this.PackBtn.node.active = false;\n      \n\n        for(var index = 0 ;index<3;index++){\n            if(index == 0){\n                this.MyCardsMaskList[index].node.active = true;\n                this.BankerCardsMaskList[index].node.active = true;\n            }else{\n                this.MyCardsMaskList[index].node.active = false;\n                this.BankerCardsMaskList[index].node.active = false;\n            }\n\n            this.MyCardsNodesList[index].node.active = true;\n            var local = (MYHandCardsValue[index] - 2) + ((MYHandCardsType[index] - 1) * 13 -1);\n            \n            this.MyCardsNodesList[index].spriteFrame = this.CardsSpritesList[local];\n            \n            this.BankerCardsNodesList[index].node.active = true;\n            local = (BANKERHandCardsValue[index] - 2) + ((BANKERHandCardsType[index] - 1) * 13-1)\n            \n            this.BankerCardsNodesList[index].spriteFrame = this.CardsSpritesList[local];\n\n           \n        }\n\n        \n\n    },\n    giveCardAction:function(){\n\n        for (var index = 1; index < 3; index++) {\n            this.MyCardsNodesList[index].node.active = true;\n            this.MyCardsMaskList[index].node.active = true;\n            this.MyCardsNodesList[index].node.position = cc.v2(-60, 0);\n            this.MyCardsNodesList[index].node.angle = 22;\n            this.BankerCardsNodesList[index].node.position = cc.v2(-60, 0);\n            this.BankerCardsNodesList[index].node.angle = 22;\n            this.BankerCardsMaskList[index].node.active = true;\n            this.BankerCardsNodesList[index].node.active = true;\n\n            var rotateTo1 = cc.rotateTo(0.2, 0);\n            var moveTo1 = cc.moveTo(0.2, cc.v2(0, 18));\n            var rotateTo = cc.rotateTo(0.2, 0);\n            var moveTo = cc.moveTo(0.2, cc.v2(0, 18));\n            if (index == 2) {\n                rotateTo = cc.rotateTo(0.2, -22);\n                moveTo = cc.moveTo(0.2, cc.v2(60, 0));\n\n                rotateTo1 = cc.rotateTo(0.2, -22);\n                moveTo1 = cc.moveTo(0.2, cc.v2(60, 0));\n            }\n\n            this.MyCardsNodesList[index].node.runAction(cc.spawn(rotateTo, moveTo));\n            this.BankerCardsNodesList[index].node.runAction(cc.spawn(rotateTo1, moveTo1));\n        }\n    },\n    /*SeeBtn 按钮响应函数 */\n    showMyHandCards: function () {\n        for (var i = 0; i < 2; i++) {\n            this.NodeList[i].active = true;\n            this.JokerMaskList[i].node.active = false;\n        }\n\n        this.SideShowBtn.node.active = true;\n        this.PackBtn.node.active = true;\n        this.SeeCardsBtn.node.active = false;\n        \n        for(var index = 0 ;index<3;index++){\n            this.MyCardsNodesList[index].node.active = true;\n            if(index == 0 ){\n                this.MyCardsMaskList[index].node.active = true;\n            }else{\n                this.MyCardsMaskList[index].node.active = false;\n            }\n\n            var local = (MYHandCardsValue[index] - 2) + ((MYHandCardsType[index] - 1) * 13-1);\n            this.MyCardsNodesList[index].spriteFrame = this.CardsSpritesList[local];\n        }\n    },\n    //开牌动画 所有牌 包括joker\n\n    showJokerCardsAction :function(isShowBothHandCards){\n        for (var index = 0; index < 3; index++) {\n\n            if (isShowBothHandCards) {\n                /* if (index == 0) {\n                    this.MyCardsMaskList[index].node.active = true;\n                    this.BankerCardsMaskList[index].active = true;\n                } else {\n                    this.MyCardsMaskList[index].node.active = false;\n                    this.BankerCardsMaskList[index].active = false;\n                } */\n\n                var local = (MYHandCardsValue[index] - 2) + ((MYHandCardsType[index] - 1) * 13 -1);\n                this.MyCardsNodesList[index].active = true;\n                this.MyCardsNodesList[index].spriteFrame = this.CardsSpritesList[local];\n\n                local = (BANKERHandCardsValue[index] - 2) + ((BANKERHandCardsType[index] - 1) * 13 -1);\n                this.BankerCardsNodesList[index].active = true;\n                this.BankerCardsNodesList[index].spriteFrame = this.CardsSpritesList[local];\n\n                if (this.SeeCardsBtn.node.active == true) {\n                    this.SeeCardsBtn.node.active = false;\n                    for (var index = 1; index < 3; index++) {\n                        this.MyCardsNodesList[index].node.position = cc.v2(-60, 0);\n                        this.MyCardsNodesList[index].node.angle = 22;\n                        this.BankerCardsNodesList[index].node.position = cc.v2(-60, 0);\n                        this.BankerCardsNodesList[index].node.angle = 22;\n                        var rotateTo1 = cc.rotateTo(0.2, 0);\n                        var moveTo1 = cc.moveTo(0.2, cc.v2(0, 18));\n                        var rotateTo = cc.rotateTo(0.2, 0);\n                        var moveTo = cc.moveTo(0.2, cc.v2(0, 18));\n                        if (index == 2) {\n                            rotateTo = cc.rotateTo(0.2, -22);\n                            moveTo = cc.moveTo(0.2, cc.v2(60, 0));\n\n                            rotateTo1 = cc.rotateTo(0.2, -22);\n                            moveTo1 = cc.moveTo(0.2, cc.v2(60, 0));\n                        }\n\n                        this.MyCardsNodesList[index].node.runAction(cc.spawn(rotateTo, moveTo));\n                        this.BankerCardsNodesList[index].node.runAction(cc.spawn(rotateTo1, moveTo1));\n                    }\n                } else {\n                    \n                    for (var index = 1; index < 3; index++) {\n                        this.BankerCardsNodesList[index].node.position = cc.v2(-60, 0);\n                        this.BankerCardsNodesList[index].node.angle = 22;\n\n                        var rotateTo = cc.rotateTo(0.2, 0);\n                        var moveTo = cc.moveTo(0.2, cc.v2(0, 18));\n                        if (index == 2) {\n                            rotateTo = cc.rotateTo(0.2, -22);\n                            moveTo = cc.moveTo(0.2, cc.v2(60, 0));\n                        }\n\n                        this.BankerCardsNodesList[index].node.runAction(cc.spawn(rotateTo, moveTo));\n                    }\n                }\n\n\n            } else {\n\n                if (index == 0) {\n                    this.MyCardsMaskList[index].node.active = true;\n                    this.BankerCardsMaskList[index].node.active = true;\n                } else {\n                    this.MyCardsMaskList[index].node.active = false;\n                    this.BankerCardsMaskList[index].node.active = true;\n                }\n\n\n                var local = (MYHandCardsValue[index] - 2) + ((MYHandCardsType[index] - 1) * 13 -1);\n                this.MyCardsNodesList[index].active = true;\n                this.MyCardsMaskList[index].node.active = true;\n                this.MyCardsNodesList[index].spriteFrame = this.CardsSpritesList[local];\n\n                for (var index = 1; index < 3; index++) {\n                    this.MyCardsNodesList[index].node.position = cc.v2(-60, 0);\n                    this.MyCardsNodesList[index].node.angle = 22;\n                    var rotateTo = cc.rotateTo(0.2, 0);\n                    var moveTo = cc.moveTo(0.2, cc.v2(0, 18));\n                    if (index == 2) {\n                        rotateTo = cc.rotateTo(0.2, -22);\n                        moveTo = cc.moveTo(0.2, cc.v2(60, 0));\n                    }\n\n                    this.MyCardsNodesList[index].node.runAction(cc.spawn(rotateTo, moveTo));\n                }\n            }\n\n\n\n        }\n    },\n    showJokerCards:function(){\n        \n        this.NodeList[0].active = true;\n        this.NodeList[1].active = true;\n        \n        this.sortCardANDTypeNoJoker(MYHandCardsValue, MYHandCardsType);\n        this.sortCardANDTypeNoJoker(BANKERHandCardsValue, BANKERHandCardsType);\n\n        if (this.checkbaozi(MYHandCardsValue, MYHandCardsType) > 0) {\n            CardsResultType.push(60);\n        } else if (this.checktonghuashun(MYHandCardsValue, MYHandCardsType) > 0) {\n            CardsResultType.push(50);\n        } else if (this.checktonghua(MYHandCardsValue, MYHandCardsType) > 0) {\n            CardsResultType.push(40);\n        } else if (this.checkshunzi(MYHandCardsValue, MYHandCardsType) > 0) {\n            CardsResultType.push(30);\n        } else if (this.checkdanzhang(MYHandCardsValue, MYHandCardsType) > 0) {\n            CardsResultType.push(20);\n        }else{\n            CardsResultType.push(10);\n        }\n\n\n        if (this.checkbaozi(BANKERHandCardsValue, BANKERHandCardsType) > 0) {\n            CardsResultType.push(60);\n        } else if (this.checktonghuashun(BANKERHandCardsValue, BANKERHandCardsType) > 0) {\n            CardsResultType.push(50);\n        } else if (this.checktonghua(BANKERHandCardsValue, BANKERHandCardsType) > 0) {\n            CardsResultType.push(40);\n        } else if (this.checkshunzi(BANKERHandCardsValue, BANKERHandCardsType) > 0) {\n            CardsResultType.push(30);\n        } else if (this.checkdanzhang(BANKERHandCardsValue, BANKERHandCardsType) > 0) {\n            CardsResultType.push(20);\n        }else{\n            CardsResultType.push(10);\n        }\n\n    },\n    /*数组所有牌排序  从大到小*/\n    sortCardANDType:function(CardHandValue,CardHandType){\n        for(var i = 0;i<3;i++){\n            for (var j = 0 ; j+1<3-i ; j++){\n                if(CardHandValue[j] > CardHandValue[j+1]){\n                    var tempvalue = CardHandValue[j];\n                    var tempvalue1 = CardHandValue[j+1];\n                    var temptype = CardHandType[j];\n                    var temptype1 = CardHandType[j+1];  \n                    CardHandValue[j] = tempvalue1;\n                    CardHandValue[j+1] = tempvalue;\n                    CardHandType[j] = temptype1;\n                    CardHandType[j+1] = temptype;\n                }\n            }\n            \n        }\n    },\n    /*排序 非joker牌 从大到小*/\n    sortCardANDTypeNoJoker:function(CardHandValue,CardHandType){\n        for(var i =0 ;i<3;i++){\n                for (var j = 1 ; j<3-1-i ; j++){\n                    if(CardHandValue[j] > CardHandValue[j+1]){\n                        var tempvalue = CardHandValue[j];\n                        var tempvalue1 = CardHandValue[j+1];\n                        var temptype = CardHandType[j];\n                        var temptype1 = CardHandType[j+1];  \n                        CardHandValue[j] = tempvalue1;\n                        CardHandValue[j+1] = tempvalue;\n                        CardHandType[j] = temptype1;\n                        CardHandType[j+1] = temptype;\n                    }\n                }\n            \n        }\n    },\n    /*检测豹子*/\n    checkbaozi: function(CardHandValue,CardHandType){\n        \n        if(CardHandValue[1] == CardHandValue[2] ){\n            var temp =this.checkIsExsitType(CardHandValue[1]);\n            if(temp!=0){\n                CardHandValue[0] = CardHandValue[1];\n                CardHandType[0] = temp;\n                return 60;\n            }else{\n                return 0;\n            }\n          \n        }else{\n            return 0;\n        }\n    },\n    //检查双方不存在哪个花色 \n    checkIsExsitType: function(value){\n        var CountsRepeat = 0;\n        var noexist = [];\n\n        for(var index= 0 ;index<3 ;index++){\n            if(MYHandCardsValue[index]==value){\n                if(MYHandCardsType[index]!=0){\n                    noexist.push(MYHandCardsType[index]);\n                }\n\n               \n                var count = 0;\n                for(var i= 0 ;i<noexist.length ;i++){\n                    if(noexist[i]== MYHandCardsType[index]){\n                        count+=1;\n                    }\n                }\n\n            /*     for(var i= 1 ;i<5 ;i++){\n                    for(var j = 0;j<noexist.length;j++){\n                        if(noexist[j]== i){\n                            count+=1;\n                        }\n                    }\n                    \n                } */\n\n                if(count == 0 &&MYHandCardsType[index]!=0){\n                    noexist.push(MYHandCardsType[index]);\n                }\n                \n            }\n\n            if(BANKERHandCardsValue[index]==value){\n                //noexist.push(BANKERHandCardsType[index]);\n                var count = 0;\n                for(var i= 0 ;i<noexist.length ;i++){\n                    if(noexist[i]== BANKERHandCardsType[index]){\n                        count+=1;\n                    }\n                }\n\n                if(count == 0&&BANKERHandCardsType[index]!=0){\n                    noexist.push(BANKERHandCardsType[index]);\n                }\n\n            }\n        }\n   \n\n        if(noexist.length == 4){\n            return 0;\n        }else{\n            var temp = 0 ;\n            for (var index =0;index<noexist.length;index++){\n                temp+=noexist[index];\n            }\n            \n            switch(temp){\n                case 10:\n                    temp = 0;\n                    break;\n                case 0:\n\n                    temp = Math.ceil((1 + (3 - 1 + 1) * Math.random()));\n                    break;\n                case 1:\n                    temp = 2;\n                    break;\n                case 2:\n                    temp = 1;\n                    break;\n                case 3:\n                    if (noexist.length == 2) {\n                        temp = 3;\n                    } else {\n                        temp = 1;\n                    }\n\n                    break;\n                case 4:\n                    if (noexist.length == 2) {\n                        temp = 2;\n                    } else {\n                        temp = 1;\n                    }\n\n                    break;\n                case 5:\n                    if (noexist.length == 2) {\n                        if (noexist[1] - noexist[0] == 1 || noexist[0] - noexist[1] == 1) {\n                            temp = 1;\n                        } else {\n                            temp = 2;\n                        }\n                    }\n\n                    break;\n                case 6:\n                    if (noexist.length == 2) {\n                        temp = 1;\n                    } else {\n                        temp = 4;\n                    }\n\n                    break;\n                case 7:\n                    temp = 1;\n                    break;\n                case 8:\n                    temp = 2;\n                    break;\n                case 9:\n                    temp = 1;\n                    break;\n                default:\n                    break;\n            }\n           \n            return temp;\n        }\n      \n\n    },\n    find:function(arr,num){\n        var count = 0;\n\n        if(arr.length== 0 ){\n            return 0;\n        }else{\n            for (var index = 0; index < arr.length; index++) {\n                if (arr[index] != num) {\n                    count += 1;\n                }\n            }\n        }\n\n        return count;\n    },\n    //检查新生成的值是否存在  true 为存在  false为不存在 \n    checkTypeIsExsit:function(value,type){\n        var isexistmycardscount= 0;\n        for(var index= 0 ;index<3;index++){\n            if(value != MYHandCardsValue[index]){\n                isexistmycardscount +=1;\n            }\n            else if(value == MYHandCardsValue[index]){\n                if(type != MYHandCardsType[index]){\n                    isexistmycardscount +=1;\n                }\n            }\n        }\n\n        var isexistbankercardscount = 0;\n        for (var index = 0; index < 3; index++) {\n            if (value != BANKERHandCardsValue[index]) {\n                isexistbankercardscount += 1;\n            }\n            else if (value == BANKERHandCardsValue[index]) {\n                if (type != BANKERHandCardsType[index]) {\n                    isexistbankercardscount+=1;\n                }\n            }\n        }\n\n        if(isexistmycardscount==3 &&isexistbankercardscount==3){\n            return false;\n        }else{\n            return true;\n        }\n       \n\n    },\n    \n    /*检测同花顺*/\n    checktonghuashun: function (CardHandValue, CardHandType) {\n\n        if ((CardHandValue[2] == CardHandValue[1] + 1) && CardHandType[2] == CardHandType[1]) {\n\n            if (CardHandValue[2] + 1 < 16 || CardHandValue[1] - 1 >0) {\n                var temp = this.checkTypeIsExsit(CardHandValue[2] + 1, CardHandType[2]);\n                var temp1 = this.checkTypeIsExsit(CardHandValue[1] - 1, CardHandType[1]);\n                if (temp == false) {\n                    CardHandType[0] = CardHandType[2];\n                    CardHandValue[0] = CardHandValue[2] + 1;\n                    return 50;\n                } else if (temp1 == false) {\n                    CardHandType[0] = CardHandType[1];\n                    CardHandValue[0] = CardHandValue[1] - 1;\n                    return 50;\n                } else {\n                    return 0;\n                }\n            }\n\n        } else if (CardHandValue[2] - 2 == CardHandValue[1] && CardHandType[2] == CardHandType[1]) { //判断例如2 ,4 同花\n            if (CardHandValue[2] - 1 >0 ) {\n                var temp = this.checkTypeIsExsit(CardHandValue[2] - 1, CardHandType[2]);\n                if (temp == false) {\n                    CardHandType[0] = CardHandType[2];\n                    CardHandValue[0] = CardHandValue[2] - 1;\n            \n                    return 50;\n                }else{\n                    return 0;\n                }\n            }\n            \n        }else{\n            return 0;\n        }\n\n\n    },\n    /*检测同花*/\n    checktonghua: function(CardHandValue,CardHandType){\n        if (CardHandType[1] == CardHandType[2]) {\n            for (var num = 15; num >= 2; num--) {\n                var temp = this.checkTypeIsExsit(num,CardHandType[1]);\n                if(temp==false){\n                    CardHandValue[0] = num;\n                    CardHandType[0] = CardHandType[1];\n                    return 40;\n                }\n                else{\n                    return 0 ;\n                }\n            }\n        } else {\n            return 0;\n        }\n    },\n    /*检测顺子*/\n    checkshunzi : function(CardHandValue,CardHandType){\n        if (CardHandValue[1] + 1 == CardHandValue[2]) {\n            \n            if (CardHandType[2] + 1 < 16 ) {\n                var temp=this.checkIsExsitType(CardHandValue[2] + 1);\n                var temp1=this.checkIsExsitType(CardHandValue[1] - 1);\n                \n                if (temp != 0) {\n                    CardHandType[0] = temp;\n                    CardHandValue[0] = CardHandValue[2] + 1;\n                \n                    return 30;\n                } else if (temp1 != 0) {\n                    CardHandType[0] = temp1;\n                    CardHandValue[0] = CardHandValue[1] - 1;\n                    \n                    return 30;\n                }  else {\n                    return 0;\n                }\n\n            } else {\n                return 0;\n            }\n\n        }\n        else if (CardHandValue[1]  == CardHandValue[2] - 2) {\n            var temp=this.checkIsExsitType(CardHandValue[2] - 1);\n            if (temp != 0) {\n                CardHandType[0] = temp\n                CardHandValue[0] = CardHandValue[2] - 1;\n                \n                return 30;\n            }\n            else{\n                return 0;\n            }\n        }else {\n            return 0;\n        }\n    },\n    /*检测单张*/\n    checkdanzhang : function(CardHandValue,CardHandType){\n        var temp = this.checkIsExsitType(CardHandValue[1]);\n        var temp1 = this.checkIsExsitType(CardHandValue[2]);\n        if (temp1 != 0) {\n            CardHandType[0] = temp1;\n            CardHandValue[0] = CardHandValue[2];\n            return 10;\n        } else if ( temp != 0) {\n            CardHandType[0] = temp;\n            CardHandValue[0] = CardHandValue[1];\n            return 10;\n        }else{\n            return 0;\n        }\n    },\n    \n    //,update (dt) {},\n});\n\n"]}